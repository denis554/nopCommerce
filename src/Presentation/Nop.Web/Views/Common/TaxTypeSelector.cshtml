@model TaxTypeSelectorModel
@using Nop.Core.Domain.Tax;
@using Nop.Web.Models.Common;
@if (Model.Enabled)
{
    var taxTypes = new List<SelectListItem>();
    taxTypes.Add(new SelectListItem()
    {
        Text = T("Tax.Inclusive").Text,
        Value = ((int)TaxDisplayType.IncludingTax).ToString(),
        Selected = Model.CurrentTaxType == TaxDisplayType.IncludingTax
    });
    taxTypes.Add(new SelectListItem()
    {
        Text = T("Tax.Exclusive").Text,
        Value = ((int)TaxDisplayType.ExcludingTax).ToString(),
        Selected = Model.CurrentTaxType == TaxDisplayType.ExcludingTax
    });
    
    @Html.DropDownList("customerTaxType", taxTypes)
    
    <script type="text/javascript">
        $(document).ready(function () {
            $("#customerTaxType").change(onTaxTypeChanged);
        });

        function onTaxTypeChanged() {
            var selectedTaxTypeId = $("#customerTaxType").val();
            var changeTaxTypeActionUrl = '@Url.RouteUrl("ChangeTaxType", new { customertaxtype = "taxtypeplaceholder" })';
            changeTaxTypeActionUrl = changeTaxTypeActionUrl.replace("taxtypeplaceholder", selectedTaxTypeId);
            setLocation(changeTaxTypeActionUrl);
        }
    </script>
}