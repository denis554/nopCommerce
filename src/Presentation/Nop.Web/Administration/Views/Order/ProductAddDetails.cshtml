@model OrderModel.AddOrderProductModel.ProductDetailsModel
<p>
   <strong>@Model.Name</strong>
</p>
@Html.HiddenFor(model => Model.ProductVariantId)
<table>
    <tr>
        <td>
            @Html.NopLabelFor(model => model.UnitPriceInclTax):
        </td>
        <td>
            @Html.EditorFor(model => model.UnitPriceInclTax)
        </td>
    </tr>
    <tr>
        <td>
            @Html.NopLabelFor(model => model.UnitPriceExclTax):
        </td>
        <td>
            @Html.EditorFor(model => model.UnitPriceExclTax)
        </td>
    </tr>
    <tr>
        <td>
            @Html.NopLabelFor(model => model.Quantity):
        </td>
        <td colspan="2">
            @Html.EditorFor(model => model.Quantity)
        </td>
    </tr>
    <tr>
        <td>
            @Html.NopLabelFor(model => model.SubTotalInclTax):
        </td>
        <td>
            @Html.EditorFor(model => model.SubTotalInclTax)
        </td>
    </tr>
    <tr>
        <td>
            @Html.NopLabelFor(model => model.SubTotalExclTax):
        </td>
        <td>
            @Html.EditorFor(model => model.SubTotalExclTax)
        </td>
    </tr>
</table>
<p>
@Html.Partial("_ProductAddAttributes", Model.ProductVariantAttributes)
</p>
<p>
<strong>@T("Admin.Orders.Products.AddNew.Note2")</strong>
</p>
<button id="addtoorder" name="addtoorder">@T("Admin.Orders.Products.AddNew")</button>
<script type="text/javascript">
    $(function () {
        $('#addtoorder').click(function () {
            $.ajax({
                type: 'POST',
                url: '@Url.Action("ProductAddDetailsPOST", "Order")',
                data: $(this.form).serialize(),
                dataType: 'json',
                success: function (data) {
                    if (data.success) {
                        closeAddOrderProductWindow();
                    }
                    else {
                        alert(data.error);
                    }
                },
                error: function (xhr, ajaxOptions, thrownError) {
                    alert(xhr.responseText);
                }
            });

            return false;
        });
    });
</script>