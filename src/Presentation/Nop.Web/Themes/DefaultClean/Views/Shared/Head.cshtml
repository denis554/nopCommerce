@using Nop.Core
@using Nop.Web.Framework.Themes
@using Nop.Web.Framework.UI
@using Microsoft.AspNetCore.Http
@inject IWorkContext workContext
@inject IThemeContext themeContext
@inject IHttpContextAccessor httpContextAccessor

@{  
    var supportRtl = workContext.WorkingLanguage.Rtl;
    var themeName = themeContext.WorkingThemeName;

    //add browser specific CSS files
    //TODO implement
    //var browser = httpContextAccessor.HttpContext.Request.Browser;
    //if (browser.Browser == "IE" && browser.MajorVersion == 8)
    //{
    //    Html.AppendCssFileParts(string.Format("~/Themes/{0}/Content/css/ie8.css", themeName));
    //}
    //add main CSS file
    if (supportRtl)
    {
        Html.AppendCssFileParts(string.Format("~/Themes/{0}/Content/css/styles.rtl.css", themeName));
    }
    else
    {
        Html.AppendCssFileParts(string.Format("~/Themes/{0}/Content/css/styles.css", themeName));
    }

    //add jQuery UI css file
    Html.AppendCssFileParts("~/lib/jquery-ui-themes/smoothness/jquery-ui-1.10.3.custom.min.css");

    //if (browser.Browser == "IE" && browser.MajorVersion == 8)
    //{
    //    Html.AddScriptParts("~/lib/selectivizr.min.js");
    //    Html.AddScriptParts("~/lib/respond.min.js");
    //}
}